<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form/Resource Component - Purposeful Media</title>

    <!-- Design System Variables -->
    <link rel="stylesheet" href="../../styles/variables-v4.0-20251027.css">

    <!-- Form Resource Component Styles -->
    <link rel="stylesheet" href="../../styles/molecules-form-resource.css">

    <!-- Demo Styles -->
    <link rel="stylesheet" href="../../styles/molecules-form-resource-demo.css">
</head>
<body>
    <!-- Demo Container -->
    <div class="demo-container">
        <h1>Form/Resource Component Demo</h1>

        <!-- Default State -->
        <div class="form-resource form-resource--state-default form-resource--size-large" id="resourceForm">
            <div class="form-resource__content">
                <h2 class="form-resource__title">Lorem Ipsum</h2>
                
                <p class="form-resource__description">
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Turpis egestas integer eget aliquet nibh praesent tristique:
                </p>
                
                <ul class="form-resource__list">
                    <li>Fermentum posuere urna nec tincidunt</li>
                    <li>Mi sit amet mauris commodo quis imperdiet</li>
                    <li>Massa ultricies mi quis hendrerit dolor magna</li>
                    <li>Risus in hendrerit gravida rutrum quisque</li>
                    <li>Imperdiet massa tincidunt nunc pulvinar</li>
                </ul>
                
                <!-- HubSpot Form Fields -->
                <form id="hsResourceForm" data-portal-id="48424315" data-form-id="4a110440-e2ea-4dfa-9951-e490f20d5e3d">
                    <div class="form-resource__form-item">
                        <label class="form-resource__label" for="email">Email Address*</label>
                        <input type="email" class="form-resource__input" id="email" name="email" placeholder="Enter your email" required>
                        <span class="form-resource__helper">*This field is required.</span>
                    </div>

                    <div class="form-resource__submit">
                        <button type="submit" class="form-resource__button form-resource__button--primary">Download Now</button>
                    </div>
                </form>
            </div>
            
            <!-- Success State Content -->
            <div class="form-resource__success">
                <h2 class="form-resource__success-title">Success!</h2>
                <p class="form-resource__success-message">Download your resource on the link below. Thank you!</p>
                <a href="#" class="form-resource__download-link">Download Your Copy of the Resource Here.</a>
                <p class="form-resource__bonus-text">Check your email inbox for our confirmation email and a link to valuable bonus content.</p>
            </div>
        </div>
    </div>
    
    <!-- JavaScript for form interaction -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const form = document.getElementById('hsResourceForm');
            const formContainer = document.getElementById('resourceForm');
            const emailInput = document.getElementById('email');
            const formItem = emailInput.closest('.form-resource__form-item');
            
            // Handle form submission
            form.addEventListener('submit', function(e) {
                e.preventDefault();

                // Basic validation
                if (!emailInput.value || !emailInput.validity.valid) {
                    formItem.classList.add('form-resource__form-item--error');
                    emailInput.value = 'Error';
                    return;
                }

                // Show success state
                formContainer.classList.add('form-resource--state-success');
                
                // Here you would normally submit to HubSpot
                // This is a placeholder for the actual HubSpot form submission
                console.log('Form submitted with email:', emailInput.value);
                console.log('HubSpot Portal ID:', form.dataset.portalId);
                console.log('HubSpot Form ID:', form.dataset.formId);
            });
            
            // Handle input focus to remove error state
            emailInput.addEventListener('focus', function() {
                if (formItem.classList.contains('form-resource__form-item--error')) {
                    formItem.classList.remove('form-resource__form-item--error');
                    if (emailInput.value === 'Error') {
                        emailInput.value = '';
                    }
                }
            });

            // Handle hover state
            formContainer.addEventListener('mouseenter', function() {
                if (!formContainer.classList.contains('form-resource--state-success')) {
                    formContainer.classList.add('form-resource--state-hover');
                }
            });

            formContainer.addEventListener('mouseleave', function() {
                formContainer.classList.remove('form-resource--state-hover');
            });

            // Handle active state on button
            const submitBtn = form.querySelector('.form-resource__button');
            submitBtn.addEventListener('mousedown', function() {
                formContainer.classList.add('form-resource--state-active');
            });

            submitBtn.addEventListener('mouseup', function() {
                formContainer.classList.remove('form-resource--state-active');
            });
        });
    </script>
    
    <!-- Demo Controls -->
    <div class="demo-controls">
        <h3>Demo Controls</h3>

        <!-- Size Controls -->
        <div class="demo-controls-group">
            <label>Size:</label>
            <button onclick="changeSize('large')">Large</button>
            <button onclick="changeSize('medium')">Medium</button>
            <button onclick="changeSize('small')">Small</button>
            <button onclick="changeSize('mobile')">Mobile</button>
        </div>

        <!-- State Controls -->
        <div class="demo-controls-group">
            <label>State:</label>
            <button onclick="resetForm()">Default</button>
            <button onclick="setDisabled()">Disabled</button>
            <button onclick="setError()">Error</button>
            <button onclick="setSuccess()">Success</button>
        </div>
    </div>
    
    <script>
        function changeSize(size) {
            const form = document.getElementById('resourceForm');
            form.className = form.className.replace(/form-resource--size-\w+/, `form-resource--size-${size}`);
        }

        function resetForm() {
            const form = document.getElementById('resourceForm');
            const emailInput = document.getElementById('email');
            const formItem = emailInput.closest('.form-resource__form-item');
            const submitBtn = document.querySelector('.form-resource__button');

            form.classList.remove('form-resource--state-success', 'form-resource--state-disabled', 'form-resource--state-error');
            formItem.classList.remove('form-resource__form-item--error');
            emailInput.value = '';
            emailInput.disabled = false;
            submitBtn.disabled = false;
            submitBtn.className = 'form-resource__button form-resource__button--primary';
        }

        function setDisabled() {
            const form = document.getElementById('resourceForm');
            const emailInput = document.getElementById('email');
            const submitBtn = document.querySelector('.form-resource__button');

            resetForm();
            form.classList.add('form-resource--state-disabled');
            emailInput.disabled = true;
            emailInput.value = 'This field is disabled';
            submitBtn.disabled = true;
        }

        function setError() {
            const form = document.getElementById('resourceForm');
            const emailInput = document.getElementById('email');
            const formItem = emailInput.closest('.form-resource__form-item');
            const submitBtn = document.querySelector('.form-resource__button');

            resetForm();
            formItem.classList.add('form-resource__form-item--error');
            emailInput.value = 'Error';
            submitBtn.className = 'form-resource__button form-resource__button--outline';
        }

        function setSuccess() {
            const form = document.getElementById('resourceForm');
            form.classList.remove('form-resource--state-disabled', 'form-resource--state-error');
            form.classList.add('form-resource--state-success');
        }
    </script>
</body>
</html>