<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Navigation Arrow Pairs Component</title>
    
    <!-- External CSS References -->
    <link rel="stylesheet" href="../../styles/variables-v2.0-20250915.css">
    <link rel="stylesheet" href="../../styles/atoms-master.css">
    
    <style>
        /* Component Base Styles */
        .nav-arrow-pairs {
            display: flex;
            align-items: center;
            justify-content: space-between;
            width: 100%;
            position: relative;
        }

        /* Individual Arrow Button */
        .nav-arrow {
            width: 48px;
            height: 48px;
            border-radius: 8px;
            background-color: rgba(255, 255, 255, 0.9);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: background-color 0.2s ease, box-shadow 0.2s ease;
            border: none;
            padding: 0;
            position: relative;
            overflow: hidden;
        }

        /* Hover State */
        .nav-arrow:hover,
        .nav-arrow--active {
            background-color: rgba(255, 255, 255, 0.5);
            box-shadow: 4px 4px 12px 0px rgba(0, 0, 0, 0.1);
        }

        /* Disabled State */
        .nav-arrow:disabled,
        .nav-arrow--disabled {
            cursor: not-allowed;
            opacity: 0.5;
        }

        /* Icon Sprite Implementation */
        .arrow-icon {
            display: block;
            width: 24px;
            height: 28px;
            background-image: url('../../assets/svg/ui-icons/purposeful-sprite-ui.svg');
            background-repeat: no-repeat;
            background-size: 1536px 512px;
            background-position: -256px 0; /* Arrow Up position */
        }

        /* Arrow Directions using CSS transforms */
        .arrow-icon--left {
            transform: rotate(-90deg);
        }

        .arrow-icon--right {
            transform: rotate(90deg);
        }

        .arrow-icon--down {
            transform: rotate(180deg);
        }

        .arrow-icon--up {
            transform: rotate(0deg);
        }

        /* Icon Color Filter */
        .arrow-icon {
            filter: brightness(0) saturate(100%) invert(8%) sepia(94%) saturate(3268%) hue-rotate(237deg);
        }

        /* Position Variants */
        .nav-arrow-pairs--inside {
            /* Default positioning for inside carousel */
            position: absolute;
            left: 20px;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            z-index: 10;
            pointer-events: none;
        }

        .nav-arrow-pairs--inside .nav-arrow {
            pointer-events: auto;
        }

        .nav-arrow-pairs--outside {
            /* For positioning outside carousel content */
            position: relative;
            margin: 0 -60px; /* Negative margin to position outside */
        }

        /* Hidden arrows based on show properties */
        .nav-arrow--hidden {
            visibility: hidden;
            pointer-events: none;
        }

        /* Component Demo Styles */
        .component-demo {
            padding: 40px;
            background: #f5f5f5;
        }

        .demo-section {
            margin-bottom: 40px;
        }

        .demo-container {
            position: relative;
            width: 400px;
            height: 200px;
            background: #e0e0e0;
            margin: 20px auto;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
        }

        .demo-label {
            font-size: 12px;
            color: #666;
            text-align: center;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <!-- Component Demonstrations -->
    <div class="component-demo">
        <h2>Navigation Arrow Pairs Component</h2>

        <!-- Inside Position Variants -->
        <div class="demo-section">
            <h3>Inside Position</h3>
            
            <!-- Both arrows hidden -->
            <div class="demo-container">
                <div class="nav-arrow-pairs nav-arrow-pairs--inside" 
                     data-show-left="no" 
                     data-show-right="no" 
                     data-position="inside"
                     data-node-id="3343:151">
                    <button class="nav-arrow nav-arrow--left" aria-label="Previous">
                        <span class="arrow-icon arrow-icon--left"></span>
                    </button>
                    <button class="nav-arrow nav-arrow--right" aria-label="Next">
                        <span class="arrow-icon arrow-icon--right"></span>
                    </button>
                </div>
                <span>Content Area</span>
            </div>
            <p class="demo-label">Show Left=No, Show Right=No</p>

            <!-- Left active, right hidden -->
            <div class="demo-container">
                <div class="nav-arrow-pairs nav-arrow-pairs--inside" 
                     data-show-left="yes" 
                     data-show-right="no" 
                     data-position="inside"
                     data-node-id="3339:235">
                    <button class="nav-arrow nav-arrow--left nav-arrow--active" aria-label="Previous">
                        <span class="arrow-icon arrow-icon--left"></span>
                    </button>
                    <button class="nav-arrow nav-arrow--right" aria-label="Next">
                        <span class="arrow-icon arrow-icon--right"></span>
                    </button>
                </div>
                <span>Content Area</span>
            </div>
            <p class="demo-label">Show Left=Yes, Show Right=No</p>

            <!-- Left hidden, right active -->
            <div class="demo-container">
                <div class="nav-arrow-pairs nav-arrow-pairs--inside" 
                     data-show-left="no" 
                     data-show-right="yes" 
                     data-position="inside"
                     data-node-id="3344:160">
                    <button class="nav-arrow nav-arrow--left" aria-label="Previous">
                        <span class="arrow-icon arrow-icon--left"></span>
                    </button>
                    <button class="nav-arrow nav-arrow--right nav-arrow--active" aria-label="Next">
                        <span class="arrow-icon arrow-icon--right"></span>
                    </button>
                </div>
                <span>Content Area</span>
            </div>
            <p class="demo-label">Show Left=No, Show Right=Yes</p>

            <!-- Both arrows active -->
            <div class="demo-container">
                <div class="nav-arrow-pairs nav-arrow-pairs--inside" 
                     data-show-left="yes" 
                     data-show-right="yes" 
                     data-position="inside"
                     data-node-id="3344:171">
                    <button class="nav-arrow nav-arrow--left nav-arrow--active" aria-label="Previous">
                        <span class="arrow-icon arrow-icon--left"></span>
                    </button>
                    <button class="nav-arrow nav-arrow--right nav-arrow--active" aria-label="Next">
                        <span class="arrow-icon arrow-icon--right"></span>
                    </button>
                </div>
                <span>Content Area</span>
            </div>
            <p class="demo-label">Show Left=Yes, Show Right=Yes</p>
        </div>

        <!-- Functional Example -->
        <div class="demo-section">
            <h3>Functional Carousel Example</h3>
            <div class="demo-container">
                <div id="carousel-arrows" 
                     class="nav-arrow-pairs nav-arrow-pairs--inside" 
                     data-show-left="no" 
                     data-show-right="yes" 
                     data-position="inside">
                    <button class="nav-arrow nav-arrow--left" aria-label="Previous" data-direction="prev">
                        <span class="arrow-icon arrow-icon--left"></span>
                    </button>
                    <button class="nav-arrow nav-arrow--right nav-arrow--active" aria-label="Next" data-direction="next">
                        <span class="arrow-icon arrow-icon--right"></span>
                    </button>
                </div>
                <span id="slide-indicator">Slide 1 of 3</span>
            </div>
            <p class="demo-label">Click arrows to navigate (simulated)</p>
        </div>
    </div>

    <script>
        /**
         * NavArrowPairs Component JavaScript
         * Manages carousel navigation arrow states and interactions
         */
        
        class NavArrowPairs {
            constructor(element, options = {}) {
                this.element = element;
                this.leftArrow = element.querySelector('.nav-arrow--left');
                this.rightArrow = element.querySelector('.nav-arrow--right');
                
                // Options
                this.currentSlide = options.currentSlide || 0;
                this.totalSlides = options.totalSlides || 3;
                this.onNavigate = options.onNavigate || (() => {});
                
                // Initialize
                this.init();
            }

            init() {
                this.bindEvents();
                this.updateArrowStates();
            }

            bindEvents() {
                if (this.leftArrow) {
                    this.leftArrow.addEventListener('click', () => this.navigate('prev'));
                }
                
                if (this.rightArrow) {
                    this.rightArrow.addEventListener('click', () => this.navigate('next'));
                }
            }

            navigate(direction) {
                let newSlide = this.currentSlide;
                
                if (direction === 'prev' && this.currentSlide > 0) {
                    newSlide = this.currentSlide - 1;
                } else if (direction === 'next' && this.currentSlide < this.totalSlides - 1) {
                    newSlide = this.currentSlide + 1;
                }

                if (newSlide !== this.currentSlide) {
                    this.currentSlide = newSlide;
                    this.updateArrowStates();
                    
                    // Trigger callback
                    this.onNavigate({
                        currentSlide: this.currentSlide,
                        totalSlides: this.totalSlides,
                        direction: direction
                    });

                    // Dispatch custom event
                    this.element.dispatchEvent(new CustomEvent('navigate', {
                        detail: {
                            currentSlide: this.currentSlide,
                            totalSlides: this.totalSlides,
                            direction: direction
                        }
                    }));
                }
            }

            updateArrowStates() {
                const showLeft = this.currentSlide > 0;
                const showRight = this.currentSlide < this.totalSlides - 1;
                
                // Update data attributes
                this.element.dataset.showLeft = showLeft ? 'yes' : 'no';
                this.element.dataset.showRight = showRight ? 'yes' : 'no';
                
                // Update arrow states
                if (this.leftArrow) {
                    if (showLeft) {
                        this.leftArrow.classList.add('nav-arrow--active');
                        this.leftArrow.disabled = false;
                    } else {
                        this.leftArrow.classList.remove('nav-arrow--active');
                        this.leftArrow.disabled = true;
                    }
                }
                
                if (this.rightArrow) {
                    if (showRight) {
                        this.rightArrow.classList.add('nav-arrow--active');
                        this.rightArrow.disabled = false;
                    } else {
                        this.rightArrow.classList.remove('nav-arrow--active');
                        this.rightArrow.disabled = true;
                    }
                }
            }

            setSlide(slideIndex) {
                if (slideIndex >= 0 && slideIndex < this.totalSlides) {
                    this.currentSlide = slideIndex;
                    this.updateArrowStates();
                }
            }

            setPosition(position) {
                this.element.classList.remove('nav-arrow-pairs--inside', 'nav-arrow-pairs--outside');
                this.element.classList.add(`nav-arrow-pairs--${position}`);
                this.element.dataset.position = position;
            }
        }

        // Initialize functional example
        document.addEventListener('DOMContentLoaded', function() {
            const carouselArrows = document.getElementById('carousel-arrows');
            const slideIndicator = document.getElementById('slide-indicator');
            
            if (carouselArrows) {
                const navArrows = new NavArrowPairs(carouselArrows, {
                    currentSlide: 0,
                    totalSlides: 3,
                    onNavigate: (data) => {
                        // Update slide indicator
                        if (slideIndicator) {
                            slideIndicator.textContent = `Slide ${data.currentSlide + 1} of ${data.totalSlides}`;
                        }
                        console.log('Navigated to slide:', data.currentSlide);
                    }
                });
            }
        });

        /**
         * Factory function for creating NavArrowPairs programmatically
         */
        function createNavArrowPairs(config = {}) {
            const {
                showLeft = 'no',
                showRight = 'no',
                position = 'inside'
            } = config;

            const container = document.createElement('div');
            container.className = `nav-arrow-pairs nav-arrow-pairs--${position}`;
            container.dataset.showLeft = showLeft;
            container.dataset.showRight = showRight;
            container.dataset.position = position;

            // Create left arrow
            const leftArrow = document.createElement('button');
            leftArrow.className = 'nav-arrow nav-arrow--left';
            if (showLeft === 'yes') leftArrow.classList.add('nav-arrow--active');
            leftArrow.setAttribute('aria-label', 'Previous');
            leftArrow.dataset.direction = 'prev';
            
            const leftIcon = document.createElement('span');
            leftIcon.className = 'arrow-icon arrow-icon--left';
            leftArrow.appendChild(leftIcon);

            // Create right arrow
            const rightArrow = document.createElement('button');
            rightArrow.className = 'nav-arrow nav-arrow--right';
            if (showRight === 'yes') rightArrow.classList.add('nav-arrow--active');
            rightArrow.setAttribute('aria-label', 'Next');
            rightArrow.dataset.direction = 'next';
            
            const rightIcon = document.createElement('span');
            rightIcon.className = 'arrow-icon arrow-icon--right';
            rightArrow.appendChild(rightIcon);

            container.appendChild(leftArrow);
            container.appendChild(rightArrow);

            return container;
        }

        // Export for use in other components
        if (typeof module !== 'undefined' && module.exports) {
            module.exports = { NavArrowPairs, createNavArrowPairs };
        }
    </script>
</body>
</html>