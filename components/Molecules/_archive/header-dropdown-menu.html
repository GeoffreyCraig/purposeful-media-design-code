<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Header Dropdown Menu - Purposeful Media Design System</title>

    <!-- Design System Variables -->
    <link rel="stylesheet" href="../../styles/variables-v4.0-20251027.css">

    <!-- Header Dropdown Menu Component Styles -->
    <link rel="stylesheet" href="../../styles/molecules-header-dropdown-menu.css">
</head>
<body>
    <!-- Header Dropdown Menu Component -->
    <nav class="header-dropdown-menu" role="navigation" aria-label="Main navigation">
        <ul class="header-dropdown-menu__list">
            <!-- Home -->
            <li class="header-dropdown-menu__item">
                <a href="/" class="header-dropdown-menu__link header-dropdown-menu__link--active">
                    Home
                </a>
            </li>
            
            <!-- Solutions with submenu -->
            <li class="header-dropdown-menu__item header-dropdown-menu__item--has-submenu">
                <a href="/solutions" class="header-dropdown-menu__link">
                    Solutions
                </a>
                <button class="header-dropdown-menu__submenu-toggle" aria-label="Toggle submenu">
                    <span class="header-dropdown-menu__submenu-icon"></span>
                </button>
                <ul class="header-dropdown-menu__submenu">
                    <li class="header-dropdown-menu__item">
                        <a href="/solutions/email-management" class="header-dropdown-menu__link">
                            Email Management
                        </a>
                    </li>
                    <li class="header-dropdown-menu__item">
                        <a href="/solutions/content-creation" class="header-dropdown-menu__link">
                            Content Creation
                        </a>
                    </li>
                    <li class="header-dropdown-menu__item">
                        <a href="/solutions/webinar-production" class="header-dropdown-menu__link">
                            Webinar Production
                        </a>
                    </li>
                </ul>
            </li>
            
            <!-- Resources with submenu -->
            <li class="header-dropdown-menu__item header-dropdown-menu__item--has-submenu">
                <a href="/resources" class="header-dropdown-menu__link">
                    Resources
                </a>
                <button class="header-dropdown-menu__submenu-toggle" aria-label="Toggle submenu">
                    <span class="header-dropdown-menu__submenu-icon"></span>
                </button>
                <ul class="header-dropdown-menu__submenu">
                    <li class="header-dropdown-menu__item">
                        <a href="/resources/library" class="header-dropdown-menu__link">
                            Resource Library
                        </a>
                    </li>
                    <li class="header-dropdown-menu__item">
                        <a href="/about" class="header-dropdown-menu__link">
                            About Us
                        </a>
                    </li>
                    <li class="header-dropdown-menu__item">
                        <a href="/blog" class="header-dropdown-menu__link">
                            Blog
                        </a>
                    </li>
                </ul>
            </li>
            
            <!-- Separator -->
            <li class="header-dropdown-menu__separator" role="separator"></li>
            
            <!-- Contact -->
            <li class="header-dropdown-menu__item">
                <a href="/contact" class="header-dropdown-menu__link">
                    Contact
                </a>
            </li>
        </ul>
    </nav>
    
    <!-- JavaScript for dropdown functionality -->
    <script>
        class HeaderDropdownMenu {
            constructor(element) {
                this.element = element;
                this.init();
            }
            
            init() {
                // Find all submenu toggles
                const toggles = this.element.querySelectorAll('.header-dropdown-menu__submenu-toggle');
                
                toggles.forEach(toggle => {
                    toggle.addEventListener('click', (e) => {
                        e.stopPropagation();
                        const item = toggle.closest('.header-dropdown-menu__item--has-submenu');
                        this.toggleSubmenu(item);
                    });
                    
                    // Also allow clicking on the parent link to toggle on mobile
                    if (window.innerWidth < 1150) {
                        const parentLink = toggle.previousElementSibling;
                        parentLink.addEventListener('click', (e) => {
                            if (toggle.closest('.header-dropdown-menu__item--has-submenu')) {
                                e.preventDefault();
                                const item = toggle.closest('.header-dropdown-menu__item--has-submenu');
                                this.toggleSubmenu(item);
                            }
                        });
                    }
                });
            }
            
            toggleSubmenu(item) {
                const isExpanded = item.classList.contains('header-dropdown-menu__item--expanded');
                
                // Close all other submenus
                const allItems = this.element.querySelectorAll('.header-dropdown-menu__item--expanded');
                allItems.forEach(i => i.classList.remove('header-dropdown-menu__item--expanded'));
                
                // Toggle current submenu
                if (!isExpanded) {
                    item.classList.add('header-dropdown-menu__item--expanded');
                }
            }
        }
        
        // Initialize dropdown menu
        document.addEventListener('DOMContentLoaded', () => {
            const dropdownMenus = document.querySelectorAll('.header-dropdown-menu');
            dropdownMenus.forEach(menu => new HeaderDropdownMenu(menu));
        });
    </script>
</body>
</html>